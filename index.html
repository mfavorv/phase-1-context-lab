<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>JavaScript Lab</title>
</head>
<body>
  hello
  <script type="text/javascript" src="index.js"></script>
</body>
</html>





function createEmployeeRecord(employeeDetails) {
  return {
      firstName: employeeDetails[0],
      familyName: employeeDetails[1],
      title: employeeDetails[2],
      payPerHour: employeeDetails[3],
      timeInEvents: [],
      timeOutEvents: []
  };
}

function createEmployeeRecords(employeeData) {
  return employeeData.map(createEmployeeRecord);
}

function createTimeInEvent(employeeRecord, dateStamp) {
  const [date, hour] = dateStamp.split(' ');

  const timeInEvent = {
      type: "TimeIn",
      hour: parseInt(hour),
      date: date
  };

  employeeRecord.timeInEvents.push(timeInEvent);

  return employeeRecord;
}

function createTimeOutEvent(employeeRecord, dateStamp) {
  const [date, hour] = dateStamp.split(' ');

  const timeOutEvent = {
      type: "TimeOut",
      hour: parseInt(hour),
      date: date
  };

  employeeRecord.timeOutEvents.push(timeOutEvent);

  return employeeRecord;
}


function hoursWorkedOnDate(employeeRecord, date) {
  const timeInEvent = employeeRecord.timeInEvents.find(event => event.date === date);
  const timeOutEvent = employeeRecord.timeOutEvents.find(event => event.date === date);

  const hoursWorked = (timeOutEvent.hour - timeInEvent.hour) / 100;

  return hoursWorked;
}

function wagesEarnedOnDate(employeeRecord, date) {
  const hours = hoursWorkedOnDate(employeeRecord, date);
  const wages = hours * employeeRecord.payPerHour;
  return wages;
}

function allWagesFor(employeeRecord) {
  const dates = employeeRecord.timeInEvents.map(event => event.date);
  const totalWages = dates.reduce((total, date) => total + wagesEarnedOnDate(employeeRecord, date), 0);
  return totalWages;
}

function findEmployeeByFirstName(srcArray, firstName) {
  return srcArray.find(employee => employee.firstName === firstName);
}

function calculatePayroll(arrayOfEmployeeRecords) {
  return arrayOfEmployeeRecords.reduce((totalPayroll, employeeRecord) => totalPayroll + allWagesFor(employeeRecord), 0);
}